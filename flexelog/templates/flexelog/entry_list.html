{% extends "flexelog/base.html" %}
{% load i18n %}

{% block body %}

<form name="form1" method="GET" action=".">
  <table class="frame" cellpadding="0" cellspacing="0">
    {% include "flexelog/include/lb_tabs.html" %}
    {% include "flexelog/include/commands.html" %}
    {% include "flexelog/include/list_modes.html" %}

    <tr>
      <td>
        <table class="listframe" width="100%" cellspacing=0>
          <tr>
            {% for col_name in col_names %}
            {# XX need urlencoded version of col_name for url #}
            {% if forloop.last %} {# Text -- XX translate needed for col title #}
            <th class="listtitle2">{% translate "Text" %}</th>
            {% else %}
            <th class="listtitle"><a href="?rsort={{col_name}}">{{ col_name }}</a></th>
            {% endif %}
            {% endfor %}
            {# <th class="listtitle3"><img src="attachment.png" alt="Attachments" title="Attachments" </th> #}
          </tr>

          {% for entry in page_obj %}
          <tr>
            {% for key, val in entry.items %}
            <td class="{% if key == 'text' %}summary{% else %}list2{% endif %}"{% if key == "date" %} nowrap{% endif %}>
              {% if not key == "text" %}
              <a href="{% url 'flexelog:detail' logbook.name entry.id %}">
                {% if key == "id" %}&nbsp;&nbsp;{% endif %}{{ val }}{% if key == "id" %}&nbsp;&nbsp;{% endif %}
              </a>
              {% else %}
              {{ val }}
              {% endif %}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </table>
        <tr>{{ paging_html|safe }}</tr>
  </table>
</form>
{% endblock body %}